{% extends "layouts/app.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block head %}
	{{ super() }}
{% endblock head %}

{% block page %}
	<div class="row">
		<div class="col-auto">
			<br>
			{% include "layouts/user.html" %}
		</div>

	    <div class="col-md-9">
			<br>

			<div class="row justify-content-center align-items-center bg-warning border border-dark rounded">
				<div class="col-auto ">
					<p class="text-cneter rounded" style="margin: 5px 5px 5px;"> 個人資料 </p>
				</div>
			</div>


			
				<form action="{{ url_for('profile') }}" method="POST">
					{{ form.csrf_token }}
					<div class="row justify-content-center border border-dark rounded">
					
						<div class="col-6">
							{% if current_user.icon == "default.png" %}
								<img src="{{ url_for('static',filename='logo.svg') }}" alt="Logo" style="width: 180px;height: 180px;">
							{% else %}
								<img src="{{url_for('static', filename = 'image/'+
							current_user.id|string +'/' + current_user.icon)}}" alt="icon" style = "height:250px;width:100%;">
							{% endif %}
							<div class=" row">
								<div class="col-auto form-group required" >
									{% if form.icon.errors %}
									{{ form.icon(class="form-control is-invalid") }}
									{% for error in form.icon.errors %}<p class="invalid-feedback" role="alert"><strong>{{ error }}</strong></p>{% endfor %}
								{% else %}
									{{ form.icon(class="form-control") }}
								{% endif %}
								</div>
							</div>
						</div>
						
						<div class="col-6">
							<div style="transform: translate(0,8vh);">	
								<h1 class="text-center">{{ current_user.account }}</h1>
								<p class="text-center">評價星星</p>
							</div>
						</div>

						<div class="col-6">
							<div class="row justify-content-center">
								<div class="col-lg-10 form-group required">
									<p>*姓名:</p>
									{% if form.name.errors %}
										{{ form.name(class="form-control is-invalid") }}
										{% for error in form.name.errors %}<p class="invalid-feedback" role="alert"><strong>{{ error }}</strong></p>{% endfor %}
									{% else %}
										{{ form.name(class="form-control") }}
									{% endif %}
								</div>
							</div>

							<div class="row justify-content-center">
								<div class="col-lg-10 form-group required">
									<p>電話:</p>
									{% if form.phone.errors %}
										{{ form.phone(class="form-control is-invalid") }}
										{% for error in form.phone.errors %}<p class="invalid-feedback" role="alert"><strong>{{ error }}</strong></p>{% endfor %}
									{% else %}
										{{ form.phone(class="form-control") }}
									{% endif %}
								</div>
							</div>

							<div class="row justify-content-center">
									<div class="col-lg-10 form-group required">
										<p>生日:</p>
										{% if form.birth.errors %}
											{{ form.birth(class="form-control is-invalid" ) }}
											{% for error in form.birth.errors %}<p class="invalid-feedback" role="alert"><strong>{{ error }}</strong></p>{% endfor %}
										{% else %}
											{{ form.birth(class="form-control") }}
										{% endif %}
									</div>
							</div>
							
						</div>
							
						
						<div class="col-10 border border-dark bg-dark">
							<p class="text-center text-light" style="margin: 5px 5px 5px;"> 個人資料 </p>
						</div>
						<div class="col-10 border border-dark " style="margin: 0px 5px 5vh;">
								<div class="row justify-content-center">
										<div class="col-lg-10 form-group required">
											<p>賣場名稱:</p>
											{% if form.store_name.errors %}
												{{ form.store_name(class="form-control is-invalid") }}
												{% for error in form.store_name.errors %}<p class="invalid-feedback" role="alert"><strong>{{ error }}</strong></p>{% endfor %}
											{% else %}
												{{ form.store_name(class="form-control") }}
											{% endif %}
										</div>
									</div>
		
									<div class="row justify-content-center">
										<div class="col-lg-10 ">
											<p>交易地點:</p>
											
										</div>
									</div>
		
									<div class="row justify-content-center">
											<div class="col-lg-10 ">
												<p>交易時間(起始):</p>
												
											</div>
									</div>

									<div class="row justify-content-center">
										<div class="col-lg-10 ">
											<p>交易時間(結束):</p>
											
										</div>
									</div>

									
								</div>
								<div class="col-7 ">
										
								</div>
								<div class="col-3 form-group required">
										{{ form.submit(class="btn btn-primary col-12") }}
								</div>
						</div>
						<br>
					</div>
				</form>
			
		</div>
	</div>
{% endblock page %}